<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Page Title</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
	</head>
	<body></body>
	<script type="module">
		const firebaseConfig = {
			apiKey: "AIzaSyCooPWsrh3yFb4eat6dg2_VFAIIPF_ET50",
			authDomain: "khardal.firebaseapp.com",
			projectId: "khardal",
			storageBucket: "khardal.appspot.com",
			messagingSenderId: "258618544710",
			appId: "1:258618544710:web:2b734571b863de60dc3047",
		};
		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
		import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-database.js";

		// Initialize Firebase
		const app = initializeApp(firebaseConfig);
		window.database = getDatabase(app);
		const dataRef = ref(window.database, "saqafat");
		var teams = ["A", "B", "C", "D", "E", "F"];
		var rounds = [1, 2, 3, 4];
		onValue(dataRef, (snapshot) => {
			let data = snapshot.val();
			console.log(data);
			let table = `<table class="table table-success"><tr><th>Round</th><th>${teams[0]}</th><th>${teams[1]}</th><th>${teams[2]}</th><th>${teams[3]}</th><th>${teams[4]}</th><th>${teams[5]}</th></tr>`;
			for (let round in rounds) {
				console.log(rounds[round]);
				table += `<tr><th>${rounds[round]}</th>`;
				teams.forEach((team) => {
					table += `<td>`;
					let score = 0;
					for (let d in data) {
						if ((data[d]["team"] == team) & (data[d]["round"] == rounds[round])) {
							console.log(data[d]);
							score += parseInt(data[d]["value"]);
						}
					}
					table += score;
					table += `</td>`;
				});
				table += `</tr>`;
			}
			table += `</table>`;
			document.body.innerHTML = table;
		});
	</script>
</html>
